{"ast":null,"code":"var _jsxFileName = \"/Users/arthurmelkonyan/webdev/react-ecommerce/client/src/components/single-product/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom/cjs/react-router-dom.min';\nimport { CartContext } from '../../context/cart-context';\nimport { ProductsContext } from '../../context/products-context';\nimport { isInCart } from '../../lib/helper';\nimport Layout from '../shared/layout';\nimport './index.styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SingleProduct = ({\n  match,\n  history\n}) => {\n  _s();\n  const [product, setProduct] = useState(null);\n  const {\n    addProduct,\n    cartItems,\n    increase\n  } = useContext(CartContext);\n  const {\n    products\n  } = useContext(ProductsContext);\n  const {\n    id\n  } = match.params;\n  useEffect(() => {\n    const data = products.find(item => Number(item.id) === Number(id));\n\n    // if product doesn't exist, redirect to shop page\n    if (!data) {\n      return PushManager('/shop');\n    }\n    setProduct(data);\n  }, [products, id]);\n  console.log('selected product: ', product);\n  if (!product) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 24\n  }, this);\n  const {\n    imageUrl,\n    title,\n    price,\n    description\n  } = product;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"single-product-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUrl,\n          alt: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-price\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-to-cart-btns\",\n          children: [!isInCart(product, cartItems) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-white nomad-btn\",\n            id: \"btn-white-outline\",\n            onClick: () => addProduct(product),\n            children: \"ADD TO CART\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 47\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-white nomad-btn\",\n            id: \"btn-white-outline\",\n            onClick: () => increase(product),\n            children: \"ADD MORE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 175\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-black nomad-btn\",\n            id: \"btn-white-outline\",\n            children: \"PROCEED TO CHECKOUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-description\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(SingleProduct, \"6TmjnpsnDIa23wLVAEpwQAhga7c=\");\n_c = SingleProduct;\nexport default _c2 = withRouter(SingleProduct);\nvar _c, _c2;\n$RefreshReg$(_c, \"SingleProduct\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useState","useEffect","withRouter","CartContext","ProductsContext","isInCart","Layout","jsxDEV","_jsxDEV","SingleProduct","match","history","_s","product","setProduct","addProduct","cartItems","increase","products","id","params","data","find","item","Number","PushManager","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","imageUrl","title","price","description","className","src","alt","onClick","_c","_c2","$RefreshReg$"],"sources":["/Users/arthurmelkonyan/webdev/react-ecommerce/client/src/components/single-product/index.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom/cjs/react-router-dom.min';\nimport { CartContext } from '../../context/cart-context';\nimport { ProductsContext } from '../../context/products-context';\nimport { isInCart } from '../../lib/helper';\nimport Layout from '../shared/layout';\nimport './index.styles.scss';\n\nconst SingleProduct = ({ match, history }) => {\n  const [product, setProduct] = useState(null);\n  const { addProduct, cartItems, increase } = useContext(CartContext);\n  const { products } = useContext(ProductsContext);\n  const { id } = match.params;\n\n  useEffect(() => {\n    const data = products.find((item) => Number(item.id) === Number(id));\n\n    // if product doesn't exist, redirect to shop page\n    if (!data) {\n      return PushManager('/shop');\n    }\n    setProduct(data)\n  }, [products, id])\n\n  console.log('selected product: ', product)\n\n  if (!product) return <p>Loading...!</p>;\n  const { imageUrl, title, price, description } = product;\n\n  return (\n    <Layout>\n      <div className='single-product-container'>\n        <div className='product-image'>\n          <img src={imageUrl} alt={title} />\n        </div>\n        <div className='product-details'>\n          <div className='name-price'>\n            <h3>\n              {title}\n            </h3>\n            <p>${price}</p>\n          </div>\n          <div className='add-to-cart-btns'>\n            {\n              !isInCart(product, cartItems) ? <button className='button is-white nomad-btn' id='btn-white-outline' onClick={() => addProduct(product)}>ADD TO CART</button> : <button className='button is-white nomad-btn' id='btn-white-outline' onClick={() => increase(product)}>ADD MORE</button>\n            }\n            <button className='button is-black nomad-btn' id='btn-white-outline'>PROCEED TO CHECKOUT</button>\n          </div>\n          <div className='product-description'>\n            <p>{description}</p>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default withRouter(SingleProduct)\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,UAAU,QAAQ,2CAA2C;AACtE,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,MAAMC,aAAa,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM;IAAEe,UAAU;IAAEC,SAAS;IAAEC;EAAS,CAAC,GAAGlB,UAAU,CAACI,WAAW,CAAC;EACnE,MAAM;IAAEe;EAAS,CAAC,GAAGnB,UAAU,CAACK,eAAe,CAAC;EAChD,MAAM;IAAEe;EAAG,CAAC,GAAGT,KAAK,CAACU,MAAM;EAE3BnB,SAAS,CAAC,MAAM;IACd,MAAMoB,IAAI,GAAGH,QAAQ,CAACI,IAAI,CAAEC,IAAI,IAAKC,MAAM,CAACD,IAAI,CAACJ,EAAE,CAAC,KAAKK,MAAM,CAACL,EAAE,CAAC,CAAC;;IAEpE;IACA,IAAI,CAACE,IAAI,EAAE;MACT,OAAOI,WAAW,CAAC,OAAO,CAAC;IAC7B;IACAX,UAAU,CAACO,IAAI,CAAC;EAClB,CAAC,EAAE,CAACH,QAAQ,EAAEC,EAAE,CAAC,CAAC;EAElBO,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEd,OAAO,CAAC;EAE1C,IAAI,CAACA,OAAO,EAAE,oBAAOL,OAAA;IAAAoB,QAAA,EAAG;EAAW;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EACvC,MAAM;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAY,CAAC,GAAGvB,OAAO;EAEvD,oBACEL,OAAA,CAACF,MAAM;IAAAsB,QAAA,eACLpB,OAAA;MAAK6B,SAAS,EAAC,0BAA0B;MAAAT,QAAA,gBACvCpB,OAAA;QAAK6B,SAAS,EAAC,eAAe;QAAAT,QAAA,eAC5BpB,OAAA;UAAK8B,GAAG,EAAEL,QAAS;UAACM,GAAG,EAAEL;QAAM;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,eACNxB,OAAA;QAAK6B,SAAS,EAAC,iBAAiB;QAAAT,QAAA,gBAC9BpB,OAAA;UAAK6B,SAAS,EAAC,YAAY;UAAAT,QAAA,gBACzBpB,OAAA;YAAAoB,QAAA,EACGM;UAAK;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eACLxB,OAAA;YAAAoB,QAAA,GAAG,GAAC,EAACO,KAAK;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACNxB,OAAA;UAAK6B,SAAS,EAAC,kBAAkB;UAAAT,QAAA,GAE7B,CAACvB,QAAQ,CAACQ,OAAO,EAAEG,SAAS,CAAC,gBAAGR,OAAA;YAAQ6B,SAAS,EAAC,2BAA2B;YAAClB,EAAE,EAAC,mBAAmB;YAACqB,OAAO,EAAEA,CAAA,KAAMzB,UAAU,CAACF,OAAO,CAAE;YAAAe,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,gBAAGxB,OAAA;YAAQ6B,SAAS,EAAC,2BAA2B;YAAClB,EAAE,EAAC,mBAAmB;YAACqB,OAAO,EAAEA,CAAA,KAAMvB,QAAQ,CAACJ,OAAO,CAAE;YAAAe,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAE1RxB,OAAA;YAAQ6B,SAAS,EAAC,2BAA2B;YAAClB,EAAE,EAAC,mBAAmB;YAAAS,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9F,CAAC,eACNxB,OAAA;UAAK6B,SAAS,EAAC,qBAAqB;UAAAT,QAAA,eAClCpB,OAAA;YAAAoB,QAAA,EAAIQ;UAAW;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEb,CAAC;AAAApB,EAAA,CA/CKH,aAAa;AAAAgC,EAAA,GAAbhC,aAAa;AAiDnB,eAAAiC,GAAA,GAAexC,UAAU,CAACO,aAAa,CAAC;AAAA,IAAAgC,EAAA,EAAAC,GAAA;AAAAC,YAAA,CAAAF,EAAA;AAAAE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}