{"ast":null,"code":"var _jsxFileName = \"/Users/arthurmelkonyan/webdev/react-ecommerce/client/src/context/auth.jsx\",\n  _s = $RefreshSig$();\nimport { useState, createContext, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({\n  token: '',\n  isLoggedIn: false,\n  signin: token => {},\n  signout: () => {}\n});\nfunction retrieveStoredToken() {\n  const token = localStorage.getItem('token');\n  return {\n    token\n  };\n}\nexport const AuthContextProvider = ({\n  children\n}) => {\n  _s();\n  const tokenData = retrieveStoredToken();\n  let initialToken;\n  if (tokenData) {\n    initialToken = tokenData.token;\n  }\n  const [token, setToken] = useState(initialToken);\n  const userIsLoggedIn = !!token;\n  const signinHandler = useCallback(token => {\n    console.log('token: ', token);\n    localStorage.setItem('token', token);\n    setToken(token);\n  }, []);\n  const signoutHandler = useCallback(() => {\n    localStorage.remove('token');\n    setToken(null);\n  }, []);\n  const contextOptions = {\n    token,\n    isLoggedIn: userIsLoggedIn,\n    signin: signinHandler,\n    signout: signoutHandler\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: contextOptions,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n};\n_s(AuthContextProvider, \"gIeQwRwWdGygc2pXFqI0OQb2x4Y=\");\n_c = AuthContextProvider;\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["useState","createContext","useCallback","jsxDEV","_jsxDEV","AuthContext","token","isLoggedIn","signin","signout","retrieveStoredToken","localStorage","getItem","AuthContextProvider","children","_s","tokenData","initialToken","setToken","userIsLoggedIn","signinHandler","console","log","setItem","signoutHandler","remove","contextOptions","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/arthurmelkonyan/webdev/react-ecommerce/client/src/context/auth.jsx"],"sourcesContent":["import { useState, createContext, useCallback } from 'react';\n\nconst AuthContext = createContext({\n  token: '',\n  isLoggedIn: false,\n  signin: (token) => { },\n  signout: () => { }\n});\n\nfunction retrieveStoredToken() {\n  const token = localStorage.getItem('token');\n  return { token }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const tokenData = retrieveStoredToken();\n  let initialToken;\n  if (tokenData) {\n    initialToken = tokenData.token;\n  }\n  const [token, setToken] = useState(initialToken);\n  const userIsLoggedIn = !!token;\n\n  const signinHandler = useCallback((token) => {\n    console.log('token: ', token)\n    localStorage.setItem('token', token);\n    setToken(token)\n  }, []);\n\n  const signoutHandler = useCallback(() => {\n    localStorage.remove('token');\n    setToken(null)\n  }, [])\n\n  const contextOptions = {\n    token,\n    isLoggedIn: userIsLoggedIn,\n    signin: signinHandler,\n    signout: signoutHandler\n  }\n  return <AuthContext.Provider value={contextOptions} >\n    {children}\n  </AuthContext.Provider>\n}\n\nexport default AuthContext;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,aAAa,EAAEC,WAAW,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,MAAMC,WAAW,gBAAGJ,aAAa,CAAC;EAChCK,KAAK,EAAE,EAAE;EACTC,UAAU,EAAE,KAAK;EACjBC,MAAM,EAAGF,KAAK,IAAK,CAAE,CAAC;EACtBG,OAAO,EAAEA,CAAA,KAAM,CAAE;AACnB,CAAC,CAAC;AAEF,SAASC,mBAAmBA,CAAA,EAAG;EAC7B,MAAMJ,KAAK,GAAGK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAO;IAAEN;EAAM,CAAC;AAClB;AAEA,OAAO,MAAMO,mBAAmB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACnD,MAAMC,SAAS,GAAGN,mBAAmB,CAAC,CAAC;EACvC,IAAIO,YAAY;EAChB,IAAID,SAAS,EAAE;IACbC,YAAY,GAAGD,SAAS,CAACV,KAAK;EAChC;EACA,MAAM,CAACA,KAAK,EAAEY,QAAQ,CAAC,GAAGlB,QAAQ,CAACiB,YAAY,CAAC;EAChD,MAAME,cAAc,GAAG,CAAC,CAACb,KAAK;EAE9B,MAAMc,aAAa,GAAGlB,WAAW,CAAEI,KAAK,IAAK;IAC3Ce,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEhB,KAAK,CAAC;IAC7BK,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEjB,KAAK,CAAC;IACpCY,QAAQ,CAACZ,KAAK,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMkB,cAAc,GAAGtB,WAAW,CAAC,MAAM;IACvCS,YAAY,CAACc,MAAM,CAAC,OAAO,CAAC;IAC5BP,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,cAAc,GAAG;IACrBpB,KAAK;IACLC,UAAU,EAAEY,cAAc;IAC1BX,MAAM,EAAEY,aAAa;IACrBX,OAAO,EAAEe;EACX,CAAC;EACD,oBAAOpB,OAAA,CAACC,WAAW,CAACsB,QAAQ;IAACC,KAAK,EAAEF,cAAe;IAAAZ,QAAA,EAChDA;EAAQ;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AACzB,CAAC;AAAAjB,EAAA,CA7BYF,mBAAmB;AAAAoB,EAAA,GAAnBpB,mBAAmB;AA+BhC,eAAeR,WAAW;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}